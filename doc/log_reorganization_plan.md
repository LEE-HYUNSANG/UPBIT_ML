# 로그 구조 재정비 계획

이 문서는 기존 모듈별 로그 폴더를 사용자 입장에서 이해하기 쉬운 순차적 폴더 구조로 바꾸기 위한 작업 리스트를 정리합니다.

## 제안하는 디렉터리 구조

```
logs/
  01_select_universe/
  02_buy_signal/
  03_place_buy_order/
  04_monitor_sell/
  05_execute_sell/
  06_machine_learning/
```

각 폴더는 사용자가 서비스를 경험하는 순서대로 번호를 붙여 관리합니다. 각 모듈은 해당 단계에 맞는 폴더에 로그 파일을 남기도록 수정합니다.

## 작업 순서

1. **정확한 순서 확정**
   - 서비스를 구성하는 주요 기능을 사용자가 겪는 순서대로 나열합니다.
   - `01_select_universe`, `02_buy_signal`과 같이 폴더 이름을 결정합니다.

2. **새 디렉터리 생성**
   - 위에서 정한 폴더를 `logs/` 아래에 만듭니다.
   - `logs/relog.py`에서 기존 폴더 초기화 로직을 수정해 새 폴더들이 생성되도록 합니다.

3. **로깅 경로 수정**
   - `setup_logging`을 호출하는 부분(`f1_universe/universe_selector.py`, `signal_loop.py`, `app.py` 등)을 찾아 새 폴더 경로로 변경합니다.
   - 예시:
     ```python
     setup_logging("F1", [LOG_DIR / "01_select_universe" / "F1_signal_engine.log"])
     ```

4. **문서 업데이트**
   - `10_total_review/13_로그_파일_설명.md` 등에서 예전 로그 경로를 사용한 부분을 모두 수정합니다.
   - 새 디렉터리 이름을 `README.md`에도 명시해 사용자가 위치를 쉽게 알 수 있게 합니다.

5. **검증**
   - 애플리케이션을 실행해 각 단계의 로그가 올바른 폴더에 생성되는지 확인합니다.
   - `pytest -q`로 테스트가 모두 통과하는지 확인합니다.

6. **기존 로그 정리**
   - 새 구조가 안정되면 기존 로그 파일을 옮기거나 삭제해 폴더를 깔끔하게 유지합니다.

위 과정을 따르면 초보자도 필요한 로그를 손쉽게 찾을 수 있는 구조로 정비할 수 있습니다.
